/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package youtubedownloader;

import youtubedownloader.model.VideoManager;
import youtubedownloader.model.domain.YoutubeVideo;
import youtubedownloader.model.exceptions.YoutubeAPIException;

public class App {
    static final String API_KEY = "AIzaSyCLtNPNHaj9Wot6U1rmGYW0zuUbMRb9C7s";

    public static void main(String[] args) {
        // Console application to test the YoutubeAPI
        while (true) {
            System.out.println("\nEnter a Youtube video URL:");
            String url = System.console().readLine();
            try {
                VideoManager videoManager = new VideoManager(API_KEY);
                YoutubeVideo video = videoManager.getVideo(url);
                System.out.println("Title: " + video.getTitle());
                System.out.println("Channel Name: " + video.getChannel().getName());
                System.out.println("Channel Photo URL: " + video.getChannel().getPhotoUrl());
                System.out.println("Thumbnail URL: " + video.getThumbnailUrl());
                System.out.println("Duration: " + video.getDuration());
            } catch (YoutubeAPIException e) {
                System.out.println("Failed to get video: " + e.getMessage());
            }
        }
    }
}
